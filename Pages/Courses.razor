@page "/courses"
@inject ICourseService CourseService

<PageTitle>Courses - Bariatric LMS</PageTitle>

<h1>Available Courses</h1>

@if (courses == null)
{
    <p><em>Loading...</em></p>
}
else
{
    <div class="course-list">
        @foreach (var course in courses)
        {
            <div class="course-item">
                <h3>@course.Title</h3>
                <p>@course.Description</p>
                <button class="btn btn-primary" @onclick="() => StartCourse(course.Id)">Start Course</button>
            </div>
        }
    </div>
}

@code {
    private List<Course> courses;

    protected override async Task OnInitializedAsync()
    {
        courses = await CourseService.GetCoursesAsync();
    }

    private void StartCourse(int courseId)
    {
        // Navigate to the course viewer page
        // NavigationManager.NavigateTo($"/course/{courseId}");
    }
}